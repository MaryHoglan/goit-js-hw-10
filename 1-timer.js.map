{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\niziToast.settings({\n    position: 'topRight',  \n    timeout: 5000,         \n    closeOnEscape: true,  \n    progressBar: true,     \n    theme: 'dark',        \n    transitionIn: 'fadeIn', \n    transitionOut: 'fadeOut', \n    pauseOnHover: true,\n    balloon: true,\n   \n});\n\nconst datetimePicker = document.querySelector(\"#datetime-picker\");\nconst startBtn = document.querySelector(\"[data-start]\");\nstartBtn.disabled = true;\nconst timerDisplay = {\n    days: document.querySelector(\"[data-days]\"),\n    hours: document.querySelector(\"[data-hours]\"),\n    minutes: document.querySelector(\"[data-minutes]\"),\n    seconds: document.querySelector(\"[data-seconds]\"),\n};\n\nlet countdownInterval;\nlet userSelectedDate;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate < new Date()) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Please choose a date in the future\",\n            });\n            startBtn.disabled = true;\n        } else {\n            startBtn.disabled = false;\n        }\n    },\n};\n\nflatpickr(datetimePicker, options);\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    return {\n        days: Math.floor(ms / day),\n        hours: Math.floor((ms % day) / hour),\n        minutes: Math.floor(((ms % day) % hour) / minute),\n        seconds: Math.floor((((ms % day) % hour) % minute) / second),\n    };\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction updateTimer() {\n    const now = new Date();\n    const diff = userSelectedDate - now;\n    \n    if (diff <= 0) {\n        clearInterval(countdownInterval);\n        iziToast.success({\n            title: \"Done\",\n            message: \"Time's up!\",\n        });\n        startBtn.disabled = true;\n        datetimePicker.disabled = false;\n        timerDisplay.days.textContent = \"00\";\n        timerDisplay.hours.textContent = \"00\";\n        timerDisplay.minutes.textContent = \"00\";\n        timerDisplay.seconds.textContent = \"00\";\n        return;\n    }\n    \n    const timeLeft = convertMs(diff);\n    timerDisplay.days.textContent = addLeadingZero(timeLeft.days);\n    timerDisplay.hours.textContent = addLeadingZero(timeLeft.hours);\n    timerDisplay.minutes.textContent = addLeadingZero(timeLeft.minutes);\n    timerDisplay.seconds.textContent = addLeadingZero(timeLeft.seconds);\n}\n\nstartBtn.onclick = function () {\n    if (countdownInterval) clearInterval(countdownInterval);\n    datetimePicker.disabled = true;\n    startBtn.disabled = true;\n    updateTimer();\n    countdownInterval = setInterval(updateTimer, 1000);\n};\n"],"names":["iziToast","datetimePicker","startBtn","timerDisplay","countdownInterval","userSelectedDate","options","selectedDates","flatpickr","convertMs","ms","addLeadingZero","value","updateTimer","diff","timeLeft"],"mappings":"+IAOAA,EAAS,SAAS,CACd,SAAU,WACV,QAAS,IACT,cAAe,GACf,YAAa,GACb,MAAO,OACP,aAAc,SACd,cAAe,UACf,aAAc,GACd,QAAS,EAEb,CAAC,EAED,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAW,SAAS,cAAc,cAAc,EACtDA,EAAS,SAAW,GACpB,MAAMC,EAAe,CACjB,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EAEA,IAAIC,EACAC,EAEJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAC9BF,EAAmB,IAAI,MACvBL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACzB,CAAa,EACDE,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAE3B,CACL,EAEAM,EAAUP,EAAgBK,CAAO,EAEjC,SAASG,EAAUC,EAAI,CAMnB,MAAO,CACH,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAQA,EAAK,MAAO,KAAQ,GAAM,EAChD,QAAS,KAAK,MAASA,EAAK,MAAO,KAAQ,IAAU,GAAM,CACnE,CACA,CAEA,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASC,GAAc,CAEnB,MAAMC,EAAOT,EADD,IAAI,KAGhB,GAAIS,GAAQ,EAAG,CACX,cAAcV,CAAiB,EAC/BJ,EAAS,QAAQ,CACb,MAAO,OACP,QAAS,YACrB,CAAS,EACDE,EAAS,SAAW,GACpBD,EAAe,SAAW,GAC1BE,EAAa,KAAK,YAAc,KAChCA,EAAa,MAAM,YAAc,KACjCA,EAAa,QAAQ,YAAc,KACnCA,EAAa,QAAQ,YAAc,KACnC,MACH,CAED,MAAMY,EAAWN,EAAUK,CAAI,EAC/BX,EAAa,KAAK,YAAcQ,EAAeI,EAAS,IAAI,EAC5DZ,EAAa,MAAM,YAAcQ,EAAeI,EAAS,KAAK,EAC9DZ,EAAa,QAAQ,YAAcQ,EAAeI,EAAS,OAAO,EAClEZ,EAAa,QAAQ,YAAcQ,EAAeI,EAAS,OAAO,CACtE,CAEAb,EAAS,QAAU,UAAY,CACvBE,GAAmB,cAAcA,CAAiB,EACtDH,EAAe,SAAW,GAC1BC,EAAS,SAAW,GACpBW,IACAT,EAAoB,YAAYS,EAAa,GAAI,CACrD"}